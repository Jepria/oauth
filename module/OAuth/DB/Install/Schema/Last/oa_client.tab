-- table: oa_client
-- Клиентские приложения.
create table
  oa_client
(
  client_id                       integer                             not null
  , client_short_name             varchar2(50)                        not null
  , client_secret                 varchar2(160)
  , client_name                   varchar2(100)                       not null
  , client_name_en                varchar2(100)                       not null
  , application_type              varchar2(20)                        not null
  , date_ins                      timestamp with time zone
                                    default systimestamp              not null
  , operator_id_ins               integer                             not null
  , change_date                   timestamp with time zone
                                    default systimestamp              not null
  , change_operator_id            integer                             not null
  , operator_id                   integer
  , is_deleted                    integer         default 0           not null
  , constraint oa_client_pk primary key
    ( client_id)
    using index tablespace &indexTablespace
  , constraint oa_client_uk_short_name unique
    ( client_short_name)
    using index tablespace &indexTablespace
  , constraint oa_client_ck_application_type check
    ( application_type in ( 'browser', 'web', 'service', 'native'))
)
/




comment on table oa_client is
  'Клиентские приложения [ SVN root: JEP/Module/OAuth]'
/
comment on column oa_client.client_id is
  'Id клиентского приложения'
/
comment on column oa_client.client_short_name is
  'Краткое наименование приложения/случайная строка'
/
comment on column oa_client.client_secret is
  'Случайная криптографически устойчивая строка'
/
comment on column oa_client.client_name is
  'Имя клиентского приложения'
/
comment on column oa_client.client_name_en is
  'Имя клиентского приложения на английском'
/
comment on column oa_client.application_type is
  'Тип клиентского приложения'
/
comment on column oa_client.date_ins is
  'Дата создания записи'
/
comment on column oa_client.operator_id_ins is
  'Id оператора, создавшего запись'
/
comment on column oa_client.change_date is
  'Дата последнего изменения записи'
/
comment on column oa_client.change_operator_id is
  'Id оператора, изменившего запись'
/
comment on column oa_client.operator_id is
  'Id привязанного оператора'
/
comment on column oa_client.is_deleted is
  'Признак удаления записи'
/



-- index: oa_client_ux_upper_short_name
-- Индекс для поиска по client_short_name без учета регистра.
create unique index
  oa_client_ux_upper_short_name
on
  oa_client (
    upper( client_short_name)
  )
tablespace &indexTablespace
/

-- index: oa_client_ix_upper_name
-- Индекс для поиска по client_name без учета регистра.
create index
  oa_client_ix_upper_name
on
  oa_client (
    upper( client_name)
  )
tablespace &indexTablespace
/

-- index: oa_client_ix_upper_name_en
-- Индекс для поиска по client_name_en без учета регистра.
create index
  oa_client_ix_upper_name_en
on
  oa_client (
    upper( client_name_en)
  )
tablespace &indexTablespace
/
